/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => journalingPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  journalingPluginSetting: "default"
};
var journalingPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    const ribbonIconEl = this.addRibbonIcon("notebook-text", "Journals", async (evt) => {
      await this.createDailyNote();
    });
    ribbonIconEl.addClass("journaling-ribbon-icon");
    this.addCommand({
      id: "open-journal-page",
      name: "Open Journal Page",
      callback: () => {
        this.createDailyNote();
      }
    });
    this.addCommand({
      id: "sample-editor-command",
      name: "Sample editor command",
      editorCallback: (editor, view) => {
        editor.replaceSelection("Sample Editor Command");
      }
    });
    this.addCommand({
      id: "open-sample-modal-complex",
      name: "Open sample modal (complex)",
      checkCallback: (checking) => {
        const markdownView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
        if (markdownView) {
          if (!checking) {
            new SampleModal(this.app).open();
          }
          return true;
        }
      }
    });
  }
  // || --- journal files management ---
  // Find all journal/daily note files
  getJournalFiles() {
    const files = this.app.vault.getMarkdownFiles();
    const journalFiles = files.filter((file) => this.isJournalFile(file));
    return journalFiles;
  }
  // Check if a file is a journal file (based on file name or folder)
  isJournalFile(file) {
    const dailyNotePattern = /^\d{4}-\d{2}-\d{2}$/;
    return dailyNotePattern.test(file.basename);
  }
  // || --- Panel creation inside new tab ---
  async createDailyNote() {
    const today = new Date();
    const formattedDate = today.toISOString().split("T")[0];
    const filePath = `${formattedDate}.md`;
    let file = this.app.vault.getAbstractFileByPath(filePath);
    if (!file) {
      const initialContent = "";
      file = await this.app.vault.create(filePath, initialContent);
      return this.showJournalsInLeaf();
    }
    if (!(file instanceof import_obsidian.TFile)) {
      console.error(`The abstract file is not a valid TFile:`, file);
      return;
    } else {
      return this.showJournalsInLeaf();
    }
  }
  async showJournalsInLeaf() {
    const panel = document.createElement("div");
    panel.classList.add("custom-journal-panel");
    const journalFiles = this.getJournalFiles();
    if (journalFiles.length === 0) {
      new import_obsidian.Notice("No journal files found.");
      return;
    }
    const leaf = this.app.workspace.getLeaf(true);
    await leaf.setViewState({
      type: "markdown",
      active: true
    });
    const contentElement = leaf.view.containerEl;
    contentElement.empty();
    for (const file of journalFiles) {
      const fileContent = await this.app.vault.read(file);
      this.addJournalToPanel(panel, file, fileContent);
    }
    contentElement.appendChild(panel);
  }
  // || --- Detailed UI creation/update ---
  // Helper function to add each journal entry to the panel
  addJournalToPanel(panel, file, content) {
    const journalDate = file.basename;
    const journalEntry = document.createElement("div");
    journalEntry.classList.add("journal-entry");
    panel.appendChild(journalEntry);
    const journalEntryHeader = document.createElement("div");
    journalEntryHeader.classList.add("journal-entry-header");
    journalEntry.appendChild(journalEntryHeader);
    const toggleButton = document.createElement("button");
    toggleButton.classList.add("collapsible-toggle");
    toggleButton.classList.add("toggle-expanded");
    journalEntryHeader.appendChild(toggleButton);
    const journalEntryTitle = document.createElement("h3");
    journalEntryTitle.classList.add("journal-entry-title");
    const journalEntryLink = document.createElement("a");
    journalEntryLink.classList.add("journal-entry-link");
    journalEntryLink.textContent = formatDate(journalDate);
    journalEntryLink.style.cursor = "pointer";
    journalEntryTitle.appendChild(journalEntryLink);
    journalEntryHeader.appendChild(journalEntryTitle);
    journalEntryLink.addEventListener("click", () => {
      this.app.workspace.openLinkText(file.basename, file.path);
    });
    const collapsibleContent = document.createElement("div");
    collapsibleContent.classList.add("collapsible-content");
    collapsibleContent.classList.add("content-expanded");
    journalEntry.appendChild(collapsibleContent);
    const renderedContent = document.createElement("div");
    renderedContent.classList.add("rendered-content");
    renderedContent.classList.add("active-view");
    const editableContent = document.createElement("textarea");
    editableContent.classList.add("editable-content");
    editableContent.value = content;
    collapsibleContent.appendChild(renderedContent);
    collapsibleContent.appendChild(editableContent);
    requestAnimationFrame(() => {
      editableContent.style.height = editableContent.scrollHeight + "px";
    });
    const renderContent = () => {
      renderedContent.innerHTML = "";
      import_obsidian.MarkdownRenderer.render(this.app, content, renderedContent, file.path, this);
    };
    renderContent();
    function enterEditMode() {
      renderedContent.classList.toggle("active-view");
      editableContent.classList.toggle("active-view");
      editableContent.style.height = "auto";
      editableContent.style.height = editableContent.scrollHeight + "px";
      editableContent.focus();
    }
    renderedContent.addEventListener("click", (event) => {
      const target = event.target;
      if (editableContent.innerHTML.trim() === "") {
        enterEditMode();
      } else if (target.tagName === "A" || target.closest("a") || target.classList.contains("cm-hastagh") || target.closest(".cm-hashtag")) {
        return;
      } else {
        enterEditMode();
      }
    });
    editableContent.addEventListener("blur", async () => {
      content = editableContent.value;
      renderContent();
      renderedContent.classList.toggle("active-view");
      editableContent.classList.toggle("active-view");
    });
    editableContent.addEventListener("input", (e) => {
      editableContent.style.height = "auto";
      editableContent.style.height = editableContent.scrollHeight + "px";
    });
    window.addEventListener("resize", (e) => {
      editableContent.style.height = "auto";
      editableContent.style.height = editableContent.scrollHeight + "px";
    });
    toggleButton.addEventListener("click", () => {
      toggleButton.classList.toggle("toggle-expanded");
      collapsibleContent.classList.toggle("content-expanded");
    });
    editableContent.addEventListener("input", async () => {
      await this.app.vault.modify(file, editableContent.value);
    });
    function formatDate(journalDate2) {
      const rawDate = new Date(journalDate2);
      const dateFormatOptions = { month: "short", year: "numeric", day: "numeric" };
      const formattedDate = new Intl.DateTimeFormat("en-US", dateFormatOptions).format(rawDate);
      const day = rawDate.getDate();
      const daySuffix = getDaySuffix(day);
      const parts = formattedDate.split(" ");
      return `${parts[0]} ${day}${daySuffix}, ${parts[2]}`;
    }
    function getDaySuffix(day) {
      if (day > 3 && day < 21)
        return "th";
      switch (day % 10) {
        case 1:
          return "st";
        case 2:
          return "nd";
        case 3:
          return "rd";
        default:
          return "th";
      }
    }
  }
  // || --- Plugin methods ---
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var SampleModal = class extends import_obsidian.Modal {
  constructor(app) {
    super(app);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.setText("Woah!");
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBURmlsZSwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgTWFya2Rvd25SZW5kZXJlciwgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdwYXRoJztcbmltcG9ydCB7IHRleHQgfSBmcm9tICdzdHJlYW0vY29uc3VtZXJzJztcblxuaW50ZXJmYWNlIGpvdXJuYWxpbmdQbHVnaW5TZXR0aW5ncyB7XG5cdGpvdXJuYWxpbmdQbHVnaW5TZXR0aW5nOiBzdHJpbmc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IGpvdXJuYWxpbmdQbHVnaW5TZXR0aW5ncyA9IHtcblx0am91cm5hbGluZ1BsdWdpblNldHRpbmc6ICdkZWZhdWx0J1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBqb3VybmFsaW5nUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IGpvdXJuYWxpbmdQbHVnaW5TZXR0aW5ncztcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuXHRcdC8vIFRoaXMgY3JlYXRlcyBhbiBpY29uIGluIHRoZSBsZWZ0IHJpYmJvbi5cblx0XHRjb25zdCByaWJib25JY29uRWwgPSB0aGlzLmFkZFJpYmJvbkljb24oJ25vdGVib29rLXRleHQnLCAnSm91cm5hbHMnLCBhc3luYyAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG5cdFx0XHRhd2FpdCB0aGlzLmNyZWF0ZURhaWx5Tm90ZSgpO1xuXHRcdH0pO1xuXHRcdC8vIFBlcmZvcm0gYWRkaXRpb25hbCB0aGluZ3Mgd2l0aCB0aGUgcmliYm9uXG5cdFx0cmliYm9uSWNvbkVsLmFkZENsYXNzKCdqb3VybmFsaW5nLXJpYmJvbi1pY29uJyk7XG5cblx0XHQvLyBUaGlzIGFkZHMgYSBzdGF0dXMgYmFyIGl0ZW0gdG8gdGhlIGJvdHRvbSBvZiB0aGUgYXBwLiBEb2VzIG5vdCB3b3JrIG9uIG1vYmlsZSBhcHBzLlxuXHRcdC8vIGNvbnN0IHN0YXR1c0Jhckl0ZW1FbCA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuXHRcdC8vIHN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KCdTdGF0dXMgQmFyIFRleHQnKTtcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNpbXBsZSBjb21tYW5kIHRoYXQgY2FuIGJlIHRyaWdnZXJlZCBhbnl3aGVyZVxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ29wZW4tam91cm5hbC1wYWdlJyxcblx0XHRcdG5hbWU6ICdPcGVuIEpvdXJuYWwgUGFnZScsXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHR0aGlzLmNyZWF0ZURhaWx5Tm90ZSgpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0XHQvLyBUaGlzIGFkZHMgYW4gZWRpdG9yIGNvbW1hbmQgdGhhdCBjYW4gcGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvbiB0aGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2Vcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdzYW1wbGUtZWRpdG9yLWNvbW1hbmQnLFxuXHRcdFx0bmFtZTogJ1NhbXBsZSBlZGl0b3IgY29tbWFuZCcsXG5cdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yLCB2aWV3OiBNYXJrZG93blZpZXcpID0+IHtcblx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oJ1NhbXBsZSBFZGl0b3IgQ29tbWFuZCcpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdC8vIFRoaXMgYWRkcyBhIGNvbXBsZXggY29tbWFuZCB0aGF0IGNhbiBjaGVjayB3aGV0aGVyIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBhcHAgYWxsb3dzIGV4ZWN1dGlvbiBvZiB0aGUgY29tbWFuZFxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ29wZW4tc2FtcGxlLW1vZGFsLWNvbXBsZXgnLFxuXHRcdFx0bmFtZTogJ09wZW4gc2FtcGxlIG1vZGFsIChjb21wbGV4KScsXG5cdFx0XHRjaGVja0NhbGxiYWNrOiAoY2hlY2tpbmc6IGJvb2xlYW4pID0+IHtcblx0XHRcdFx0Ly8gQ29uZGl0aW9ucyB0byBjaGVja1xuXHRcdFx0XHRjb25zdCBtYXJrZG93blZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuXHRcdFx0XHRpZiAobWFya2Rvd25WaWV3KSB7XG5cdFx0XHRcdFx0Ly8gSWYgY2hlY2tpbmcgaXMgdHJ1ZSwgd2UncmUgc2ltcGx5IFwiY2hlY2tpbmdcIiBpZiB0aGUgY29tbWFuZCBjYW4gYmUgcnVuLlxuXHRcdFx0XHRcdC8vIElmIGNoZWNraW5nIGlzIGZhbHNlLCB0aGVuIHdlIHdhbnQgdG8gYWN0dWFsbHkgcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuXHRcdFx0XHRcdGlmICghY2hlY2tpbmcpIHtcblx0XHRcdFx0XHRcdG5ldyBTYW1wbGVNb2RhbCh0aGlzLmFwcCkub3BlbigpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFRoaXMgY29tbWFuZCB3aWxsIG9ubHkgc2hvdyB1cCBpbiBDb21tYW5kIFBhbGV0dGUgd2hlbiB0aGUgY2hlY2sgZnVuY3Rpb24gcmV0dXJucyB0cnVlXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8vIHx8IC0tLSBqb3VybmFsIGZpbGVzIG1hbmFnZW1lbnQgLS0tXG5cdFxuXHQvLyBGaW5kIGFsbCBqb3VybmFsL2RhaWx5IG5vdGUgZmlsZXNcblx0Z2V0Sm91cm5hbEZpbGVzKCk6IFRGaWxlW10ge1xuXHRcdC8vIEdldCBhbGwgbWFya2Rvd24gZmlsZXMgaW4gdGhlIHZhdWx0XG5cdFx0Y29uc3QgZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG5cblx0XHQvLyBGaWx0ZXIgZmlsZXMgdGhhdCBmb2xsb3cgYSBkYWlseSBub3RlIHBhdHRlcm5cblx0XHRjb25zdCBqb3VybmFsRmlsZXMgPSBmaWxlcy5maWx0ZXIoKGZpbGUpID0+IHRoaXMuaXNKb3VybmFsRmlsZShmaWxlKSk7XG5cdFx0cmV0dXJuIGpvdXJuYWxGaWxlcztcblx0fVxuXG5cdC8vIENoZWNrIGlmIGEgZmlsZSBpcyBhIGpvdXJuYWwgZmlsZSAoYmFzZWQgb24gZmlsZSBuYW1lIG9yIGZvbGRlcilcblx0aXNKb3VybmFsRmlsZShmaWxlOiBURmlsZSk6IGJvb2xlYW4ge1xuXHRcdC8vIEFkanVzdCB0aGUgcGF0dGVybiBvciBmb2xkZXIgY2hlY2sgZGVwZW5kaW5nIG9uIHlvdXIgZGFpbHkgbm90ZSBzZXR1cFxuXHRcdGNvbnN0IGRhaWx5Tm90ZVBhdHRlcm4gPSAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9JC87IC8vIE1hdGNoZXMgWVlZWS1NTS1ERFxuXHRcdHJldHVybiBkYWlseU5vdGVQYXR0ZXJuLnRlc3QoZmlsZS5iYXNlbmFtZSk7XG5cdH1cblxuXHQvLyB8fCAtLS0gUGFuZWwgY3JlYXRpb24gaW5zaWRlIG5ldyB0YWIgLS0tXG5cblx0YXN5bmMgY3JlYXRlRGFpbHlOb3RlKCkge1xuXHRcdC8vIEZvcm1hdCB0b2RheSdzIGRhdGUgYXMgWVlZWS1NTS1ERFxuXHRcdGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcblx0XHRjb25zdCBmb3JtYXR0ZWREYXRlID0gdG9kYXkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdOyAvLyBZWVlZLU1NLUREXG5cdFx0Y29uc3QgZmlsZVBhdGggPSBgJHtmb3JtYXR0ZWREYXRlfS5tZGA7IC8vIEFkanVzdCB0aGlzIGlmIHlvdSB3YW50IGEgZGlmZmVyZW50IG5hbWluZyBmb3JtYXRcblx0XG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIG5vdGUgYWxyZWFkeSBleGlzdHNcblx0XHRsZXQgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChmaWxlUGF0aCk7XG5cdFxuXHRcdGlmICghZmlsZSkge1xuXHRcdFx0Ly8gSWYgdGhlIGZpbGUgZG9lc24ndCBleGlzdCwgY3JlYXRlIGl0XG5cdFx0XHRjb25zdCBpbml0aWFsQ29udGVudCA9ICcnO1xuXHRcdFx0ZmlsZSA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShmaWxlUGF0aCwgaW5pdGlhbENvbnRlbnQpO1xuXHRcdFx0cmV0dXJuIHRoaXMuc2hvd0pvdXJuYWxzSW5MZWFmKCk7XG5cdFx0fSBcblx0XG5cdFx0Ly8gRW5zdXJlIGZpbGUgaXMgb2YgdHlwZSBURmlsZSBiZWZvcmUgb3BlbmluZ1xuXHRcdGlmICghKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYFRoZSBhYnN0cmFjdCBmaWxlIGlzIG5vdCBhIHZhbGlkIFRGaWxlOmAsIGZpbGUpO1xuXHRcdFx0cmV0dXJuOyAvLyBFeGl0IGlmIGl0J3Mgbm90IGEgVEZpbGVcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMuc2hvd0pvdXJuYWxzSW5MZWFmKCk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgc2hvd0pvdXJuYWxzSW5MZWFmKCkge1xuXHRcdC8vIENyZWF0ZSBhIHNjcm9sbGFibGUgcGFuZWwgZm9yIGpvdXJuYWwgZW50cmllc1xuXHRcdGNvbnN0IHBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0cGFuZWwuY2xhc3NMaXN0LmFkZCgnY3VzdG9tLWpvdXJuYWwtcGFuZWwnKTtcblxuXHRcdGNvbnN0IGpvdXJuYWxGaWxlcyA9IHRoaXMuZ2V0Sm91cm5hbEZpbGVzKCk7XG5cdFxuXHRcdGlmIChqb3VybmFsRmlsZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRuZXcgTm90aWNlKCdObyBqb3VybmFsIGZpbGVzIGZvdW5kLicpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0Ly8gQ3JlYXRlIGEgbmV3IGxlYWYgKG9wZW5zIGEgbmV3IHRhYilcblx0XHRjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYodHJ1ZSk7XG5cblx0XHQvLyBTZXQgdGhlIHZpZXcgc3RhdGUgdG8gTWFya2Rvd24gdG8gYWNjZXNzIGNvbnRhaW5lckVsXG5cdFx0YXdhaXQgbGVhZi5zZXRWaWV3U3RhdGUoe1xuXHRcdFx0dHlwZTogXCJtYXJrZG93blwiLFxuXHRcdFx0YWN0aXZlOiB0cnVlLFxuXHRcdH0pO1xuXG5cdFx0Ly8gQWNjZXNzIHRoZSBjb250YWluZXIgZWxlbWVudCBvZiB0aGUgbWFya2Rvd24gdmlld1xuXHRcdGNvbnN0IGNvbnRlbnRFbGVtZW50ID0gbGVhZi52aWV3LmNvbnRhaW5lckVsOyAvLyBVc2UgY29udGFpbmVyRWwgdG8gYWNjZXNzIHRoZSBlbGVtZW50XG5cdFx0XHRcblx0XHRjb250ZW50RWxlbWVudC5lbXB0eSgpOyAvLyBDbGVhciB0aGUgY29udGVudCBhcmVhIGlmIG5lY2Vzc2FyeVxuXHRcblx0XHQvLyBBZGQgY29udGVudCBmb3IgZWFjaCBqb3VybmFsIGZpbGVcblx0XHRmb3IgKGNvbnN0IGZpbGUgb2Ygam91cm5hbEZpbGVzKSB7XG5cdFx0XHRjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG5cdFx0XHR0aGlzLmFkZEpvdXJuYWxUb1BhbmVsKHBhbmVsLCBmaWxlLCBmaWxlQ29udGVudCk7XG5cdFx0fVxuXHRcblx0XHQvLyBBcHBlbmQgdGhlIGN1c3RvbSBwYW5lbCB0byB0aGUgbGVhZidzIGNvbnRhaW5lciBlbGVtZW50XG5cdFx0Y29udGVudEVsZW1lbnQuYXBwZW5kQ2hpbGQocGFuZWwpO1xuXHR9XG5cblxuXHQvLyB8fCAtLS0gRGV0YWlsZWQgVUkgY3JlYXRpb24vdXBkYXRlIC0tLVxuXHRcblx0Ly8gSGVscGVyIGZ1bmN0aW9uIHRvIGFkZCBlYWNoIGpvdXJuYWwgZW50cnkgdG8gdGhlIHBhbmVsXG5cdGFkZEpvdXJuYWxUb1BhbmVsKHBhbmVsOiBIVE1MRWxlbWVudCwgZmlsZTogVEZpbGUsIGNvbnRlbnQ6IHN0cmluZykge1xuXHRcdGNvbnN0IGpvdXJuYWxEYXRlID0gZmlsZS5iYXNlbmFtZTtcblxuXHRcdGNvbnN0IGpvdXJuYWxFbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdGpvdXJuYWxFbnRyeS5jbGFzc0xpc3QuYWRkKCdqb3VybmFsLWVudHJ5Jyk7XG5cdFx0cGFuZWwuYXBwZW5kQ2hpbGQoam91cm5hbEVudHJ5KTtcblxuXHRcdC8vIEFkZCBhIGhlYWRlciBmb3IgdGhlIGpvdXJuYWwgZW50cnlcblx0XHRjb25zdCBqb3VybmFsRW50cnlIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRqb3VybmFsRW50cnlIZWFkZXIuY2xhc3NMaXN0LmFkZCgnam91cm5hbC1lbnRyeS1oZWFkZXInKTtcblx0XHRqb3VybmFsRW50cnkuYXBwZW5kQ2hpbGQoam91cm5hbEVudHJ5SGVhZGVyKTtcblxuXHRcdC8vIENyZWF0ZSB0aGUgdG9nZ2xlIGJ1dHRvblxuXHRcdGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXHRcdHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjb2xsYXBzaWJsZS10b2dnbGUnKTtcblx0XHR0b2dnbGVCdXR0b24uY2xhc3NMaXN0LmFkZCgndG9nZ2xlLWV4cGFuZGVkJyk7XG5cdFx0am91cm5hbEVudHJ5SGVhZGVyLmFwcGVuZENoaWxkKHRvZ2dsZUJ1dHRvbik7XG5cblx0XHQvLyBBZGQgYSBsaW5rIGZvciB0aGUgam91cm5hbCBlbnRyeSB0aXRsZSBsZWFkaW5nIHRvIHRoZSBvcmlnaW5hbCBmaWxlXG5cdFx0Y29uc3Qgam91cm5hbEVudHJ5VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuXHRcdGpvdXJuYWxFbnRyeVRpdGxlLmNsYXNzTGlzdC5hZGQoJ2pvdXJuYWwtZW50cnktdGl0bGUnKTtcblx0XHRjb25zdCBqb3VybmFsRW50cnlMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG5cdFx0am91cm5hbEVudHJ5TGluay5jbGFzc0xpc3QuYWRkKCdqb3VybmFsLWVudHJ5LWxpbmsnKTtcblx0XHRqb3VybmFsRW50cnlMaW5rLnRleHRDb250ZW50ID0gZm9ybWF0RGF0ZShqb3VybmFsRGF0ZSk7XG5cdFx0am91cm5hbEVudHJ5TGluay5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG5cdFx0am91cm5hbEVudHJ5VGl0bGUuYXBwZW5kQ2hpbGQoam91cm5hbEVudHJ5TGluayk7XG5cdFx0am91cm5hbEVudHJ5SGVhZGVyLmFwcGVuZENoaWxkKGpvdXJuYWxFbnRyeVRpdGxlKTtcblxuXHRcdC8vIE9wZW4gZmlsZSB3aGVuIGNsaWNraW5nIG9uIHRpdGxlXG5cdFx0am91cm5hbEVudHJ5TGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vcGVuTGlua1RleHQoZmlsZS5iYXNlbmFtZSwgZmlsZS5wYXRoKTtcblx0XHR9KTtcblxuXHRcdC8vIENyZWF0ZSB0aGUgY29sbGFwc2libGUgY29udGVudCBhcmVhXG5cdFx0Y29uc3QgY29sbGFwc2libGVDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0Y29sbGFwc2libGVDb250ZW50LmNsYXNzTGlzdC5hZGQoJ2NvbGxhcHNpYmxlLWNvbnRlbnQnKTtcblx0XHRjb2xsYXBzaWJsZUNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnY29udGVudC1leHBhbmRlZCcpO1xuXHRcdGpvdXJuYWxFbnRyeS5hcHBlbmRDaGlsZChjb2xsYXBzaWJsZUNvbnRlbnQpO1xuXG5cdFx0Y29uc3QgcmVuZGVyZWRDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0cmVuZGVyZWRDb250ZW50LmNsYXNzTGlzdC5hZGQoJ3JlbmRlcmVkLWNvbnRlbnQnKTtcblx0XHRyZW5kZXJlZENvbnRlbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlLXZpZXcnKTtcblxuXHRcdC8vIENyZWF0ZSBhbiBlZGl0YWJsZSB0ZXh0YXJlYSBmb3IgdGhlIGZpbGUgY29udGVudFxuXHRcdGNvbnN0IGVkaXRhYmxlQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG5cdFx0ZWRpdGFibGVDb250ZW50LmNsYXNzTGlzdC5hZGQoJ2VkaXRhYmxlLWNvbnRlbnQnKTtcblx0XHRlZGl0YWJsZUNvbnRlbnQudmFsdWUgPSBjb250ZW50O1xuXG5cdFx0Y29sbGFwc2libGVDb250ZW50LmFwcGVuZENoaWxkKHJlbmRlcmVkQ29udGVudCk7XG5cdFx0Y29sbGFwc2libGVDb250ZW50LmFwcGVuZENoaWxkKGVkaXRhYmxlQ29udGVudCk7XG5cblx0XHQvLyBVc2UgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHRvIGVuc3VyZSByZW5kZXJpbmcgaXMgZG9uZSBmb3IgZWFjaCBlbGVtZW50XG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcblx0XHRcdGVkaXRhYmxlQ29udGVudC5zdHlsZS5oZWlnaHQgPSBlZGl0YWJsZUNvbnRlbnQuc2Nyb2xsSGVpZ2h0ICsgJ3B4Jztcblx0XHR9KTtcblxuXHRcdC8vIEZ1bmN0aW9uIHRvIHJlbmRlciBNYXJrZG93blxuXHRcdGNvbnN0IHJlbmRlckNvbnRlbnQgPSAoKSA9PiB7XG5cdFx0XHRyZW5kZXJlZENvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG5cblx0XHRcdE1hcmtkb3duUmVuZGVyZXIucmVuZGVyKHRoaXMuYXBwLCBjb250ZW50LCByZW5kZXJlZENvbnRlbnQsIGZpbGUucGF0aCwgdGhpcyk7XG5cdFx0fVxuXG5cdFx0Ly8gSW5pdGlhbCByZW5kZXJcblx0XHRyZW5kZXJDb250ZW50KCk7XG5cblx0XHQvLyBFbnRlciBlZGl0IG1vZGVcblx0XHRmdW5jdGlvbiBlbnRlckVkaXRNb2RlKCkge1xuXHRcdFx0cmVuZGVyZWRDb250ZW50LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZS12aWV3Jyk7XG5cdFx0XHRlZGl0YWJsZUNvbnRlbnQuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlLXZpZXcnKTtcblx0XHRcdGVkaXRhYmxlQ29udGVudC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG5cdFx0XHRlZGl0YWJsZUNvbnRlbnQuc3R5bGUuaGVpZ2h0ID0gZWRpdGFibGVDb250ZW50LnNjcm9sbEhlaWdodCArICdweCc7XG5cdFx0XHRlZGl0YWJsZUNvbnRlbnQuZm9jdXMoKTtcblx0XHR9XG5cblx0XHQvLyBBZGQgYSBjbGljayBldmVudCBsaXN0ZW5lciB0byB0aGUgY29udGFpbmVyXG5cdFx0cmVuZGVyZWRDb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG5cdFx0XHRjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG5cblx0XHRcdGlmIChlZGl0YWJsZUNvbnRlbnQuaW5uZXJIVE1MLnRyaW0oKSA9PT0gJycpIHtcblx0XHRcdFx0ZW50ZXJFZGl0TW9kZSgpOyAvLyBDYWxsIHlvdXIgZWRpdCBtb2RlIGZ1bmN0aW9uXG5cdFx0XHR9IGVsc2UgaWYgKHRhcmdldC50YWdOYW1lID09PSAnQScgfHwgdGFyZ2V0LmNsb3Nlc3QoJ2EnKSB8fCB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbS1oYXN0YWdoJykgfHwgdGFyZ2V0LmNsb3Nlc3QoJy5jbS1oYXNodGFnJykpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0cmlnZ2VyIHRoZSBlZGl0aW5nIG1vZGVcblx0XHRcdFx0ZW50ZXJFZGl0TW9kZSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0ZWRpdGFibGVDb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRjb250ZW50ID0gZWRpdGFibGVDb250ZW50LnZhbHVlOyAvLyBVcGRhdGUgY29udGVudFxuXHRcdFx0cmVuZGVyQ29udGVudCgpO1xuXHRcdFx0cmVuZGVyZWRDb250ZW50LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZS12aWV3Jyk7XG5cdFx0XHRlZGl0YWJsZUNvbnRlbnQuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlLXZpZXcnKTtcblx0XHR9KTtcblxuXHRcdC8vIEV2ZW50IGxpc3RlbmVyIHRvIGFkanVzdCB0aGUgaGVpZ2h0IG9mIHRoZSB0ZXh0YXJlYSBvbiBpbnB1dFxuXHRcdGVkaXRhYmxlQ29udGVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGUgPT4ge1xuXHRcdFx0ZWRpdGFibGVDb250ZW50LnN0eWxlLmhlaWdodCA9ICdhdXRvJztcblx0XHRcdGVkaXRhYmxlQ29udGVudC5zdHlsZS5oZWlnaHQgPSBlZGl0YWJsZUNvbnRlbnQuc2Nyb2xsSGVpZ2h0ICsgJ3B4Jztcblx0XHR9KTtcblxuXHRcdC8vIEV2ZW50IGxpc3RlbmVyIHRvIGFkanVzdCB0aGUgaGVpZ2h0IG9mIHRoZSB0ZXh0YXJlYSBvbiB3aW5kb3cgcmVzaXplXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGUgPT4ge1xuXHRcdFx0ZWRpdGFibGVDb250ZW50LnN0eWxlLmhlaWdodCA9ICdhdXRvJztcblx0XHRcdGVkaXRhYmxlQ29udGVudC5zdHlsZS5oZWlnaHQgPSBlZGl0YWJsZUNvbnRlbnQuc2Nyb2xsSGVpZ2h0ICsgJ3B4Jztcblx0XHR9KTtcblxuXHRcdC8vIEFkZCBldmVudCBsaXN0ZW5lciB0byB0b2dnbGUgdGhlIHBhbmVsIG9uIGJ1dHRvbiBjbGlja1xuXHRcdHRvZ2dsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCd0b2dnbGUtZXhwYW5kZWQnKTtcblx0XHRcdGNvbGxhcHNpYmxlQ29udGVudC5jbGFzc0xpc3QudG9nZ2xlKCdjb250ZW50LWV4cGFuZGVkJyk7XG5cdFx0fSk7XG5cblx0XHQvLyBTYXZlIGVkaXRzIHRvIHRoZSBvcmlnaW5hbCBmaWxlIHdoZW4gdGhlIGNvbnRlbnQgY2hhbmdlc1xuXHRcdGVkaXRhYmxlQ29udGVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGFzeW5jICgpID0+IHtcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBlZGl0YWJsZUNvbnRlbnQudmFsdWUpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gSGVscGVyIGZ1bmN0aW9uIHRvIGZvcm1hdCB0aGUgZGF0ZSBmb3IgdGhlIGVhY2ggam91cm5hbCBlbnRyeSB0aXRsZVxuXHRcdGZ1bmN0aW9uIGZvcm1hdERhdGUoam91cm5hbERhdGU6IFN0cmluZyk6IHN0cmluZyB7XG5cdFx0XHRjb25zdCByYXdEYXRlID0gbmV3IERhdGUoam91cm5hbERhdGUgYXMgc3RyaW5nKTtcblx0XHRcdGNvbnN0IGRhdGVGb3JtYXRPcHRpb25zOiBJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9ucyA9IHsgbW9udGg6ICdzaG9ydCcsIHllYXI6ICdudW1lcmljJywgZGF5OiAnbnVtZXJpYycgfTtcblxuXHRcdFx0Ly8gRm9ybWF0IGRhdGUgdXNpbmcgSW50bC5EYXRlVGltZUZvcm1hdFxuXHRcdFx0Y29uc3QgZm9ybWF0dGVkRGF0ZSA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KCdlbi1VUycsIGRhdGVGb3JtYXRPcHRpb25zKS5mb3JtYXQocmF3RGF0ZSk7XG5cblx0XHRcdC8vIEV4dHJhY3QgZGF5IGFuZCBhZGQgb3JkaW5hbCBzdWZmaXggKGUuZy4sICdzdCcsICduZCcsICdyZCcsICd0aCcpXG5cdFx0XHRjb25zdCBkYXkgPSByYXdEYXRlLmdldERhdGUoKTtcblx0XHRcdGNvbnN0IGRheVN1ZmZpeCA9IGdldERheVN1ZmZpeChkYXkpO1xuXG5cdFx0XHQvLyBCdWlsZCB0aGUgZmluYWwgZm9ybWF0dGVkIHN0cmluZ1xuXHRcdFx0Y29uc3QgcGFydHMgPSBmb3JtYXR0ZWREYXRlLnNwbGl0KCcgJyk7XG5cdFx0XHRyZXR1cm4gYCR7cGFydHNbMF19ICR7ZGF5fSR7ZGF5U3VmZml4fSwgJHtwYXJ0c1syXX1gO1xuXHRcdH1cblxuXHRcdC8vIEhlbHBlciBmdW5jdGlvbiB0byBkZXRlcm1pbmUgdGhlIGFwcHJvcHJpYXRlIG9yZGluYWwgc3VmZml4XG5cdFx0ZnVuY3Rpb24gZ2V0RGF5U3VmZml4KGRheTogbnVtYmVyKTogc3RyaW5nIHtcblx0XHRcdGlmIChkYXkgPiAzICYmIGRheSA8IDIxKSByZXR1cm4gJ3RoJzsgLy8gU3BlY2lhbCBjYXNlIGZvciAxMXRoLTE5dGhcblx0XHRcdHN3aXRjaCAoZGF5ICUgMTApIHtcblx0XHRcdFx0Y2FzZSAxOiByZXR1cm4gJ3N0Jztcblx0XHRcdFx0Y2FzZSAyOiByZXR1cm4gJ25kJztcblx0XHRcdFx0Y2FzZSAzOiByZXR1cm4gJ3JkJztcblx0XHRcdFx0ZGVmYXVsdDogcmV0dXJuICd0aCc7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gfHwgLS0tIFBsdWdpbiBtZXRob2RzIC0tLVxuXG5cdG9udW5sb2FkKCkge1xuXHR9XG5cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuXG5jbGFzcyBTYW1wbGVNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0Y29uc3RydWN0b3IoYXBwOiBBcHApIHtcblx0XHRzdXBlcihhcHApO1xuXHR9XG5cblx0b25PcGVuKCkge1xuXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcblx0XHRjb250ZW50RWwuc2V0VGV4dCgnV29haCEnKTtcblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3Qge2NvbnRlbnRFbH0gPSB0aGlzO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXHR9XG59XG5cbmNsYXNzIFNhbXBsZVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBqb3VybmFsaW5nUGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IGpvdXJuYWxpbmdQbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHtjb250YWluZXJFbH0gPSB0aGlzO1xuXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1NldHRpbmcgIzEnKVxuXHRcdFx0LnNldERlc2MoJ0l0XFwncyBhIHNlY3JldCcpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdFbnRlciB5b3VyIHNlY3JldCcpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5qb3VybmFsaW5nUGx1Z2luU2V0dGluZylcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmpvdXJuYWxpbmdQbHVnaW5TZXR0aW5nID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblx0fVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUE4STtBQVE5SSxJQUFNLG1CQUE2QztBQUFBLEVBQ2xELHlCQUF5QjtBQUMxQjtBQUVBLElBQXFCLG1CQUFyQixjQUE4Qyx1QkFBTztBQUFBLEVBR3BELE1BQU0sU0FBUztBQUNkLFVBQU0sS0FBSyxhQUFhO0FBR3hCLFVBQU0sZUFBZSxLQUFLLGNBQWMsaUJBQWlCLFlBQVksT0FBTyxRQUFvQjtBQUMvRixZQUFNLEtBQUssZ0JBQWdCO0FBQUEsSUFDNUIsQ0FBQztBQUVELGlCQUFhLFNBQVMsd0JBQXdCO0FBTzlDLFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ2YsYUFBSyxnQkFBZ0I7QUFBQSxNQUN0QjtBQUFBLElBQ0QsQ0FBQztBQUVELFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sZ0JBQWdCLENBQUMsUUFBZ0IsU0FBdUI7QUFDdkQsZUFBTyxpQkFBaUIsdUJBQXVCO0FBQUEsTUFDaEQ7QUFBQSxJQUNELENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNmLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLGVBQWUsQ0FBQyxhQUFzQjtBQUVyQyxjQUFNLGVBQWUsS0FBSyxJQUFJLFVBQVUsb0JBQW9CLDRCQUFZO0FBQ3hFLFlBQUksY0FBYztBQUdqQixjQUFJLENBQUMsVUFBVTtBQUNkLGdCQUFJLFlBQVksS0FBSyxHQUFHLEVBQUUsS0FBSztBQUFBLFVBQ2hDO0FBR0EsaUJBQU87QUFBQSxRQUNSO0FBQUEsTUFDRDtBQUFBLElBQ0QsQ0FBQztBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUEsRUFLQSxrQkFBMkI7QUFFMUIsVUFBTSxRQUFRLEtBQUssSUFBSSxNQUFNLGlCQUFpQjtBQUc5QyxVQUFNLGVBQWUsTUFBTSxPQUFPLENBQUMsU0FBUyxLQUFLLGNBQWMsSUFBSSxDQUFDO0FBQ3BFLFdBQU87QUFBQSxFQUNSO0FBQUE7QUFBQSxFQUdBLGNBQWMsTUFBc0I7QUFFbkMsVUFBTSxtQkFBbUI7QUFDekIsV0FBTyxpQkFBaUIsS0FBSyxLQUFLLFFBQVE7QUFBQSxFQUMzQztBQUFBO0FBQUEsRUFJQSxNQUFNLGtCQUFrQjtBQUV2QixVQUFNLFFBQVEsSUFBSSxLQUFLO0FBQ3ZCLFVBQU0sZ0JBQWdCLE1BQU0sWUFBWSxFQUFFLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFDdEQsVUFBTSxXQUFXLEdBQUc7QUFHcEIsUUFBSSxPQUFPLEtBQUssSUFBSSxNQUFNLHNCQUFzQixRQUFRO0FBRXhELFFBQUksQ0FBQyxNQUFNO0FBRVYsWUFBTSxpQkFBaUI7QUFDdkIsYUFBTyxNQUFNLEtBQUssSUFBSSxNQUFNLE9BQU8sVUFBVSxjQUFjO0FBQzNELGFBQU8sS0FBSyxtQkFBbUI7QUFBQSxJQUNoQztBQUdBLFFBQUksRUFBRSxnQkFBZ0Isd0JBQVE7QUFDN0IsY0FBUSxNQUFNLDJDQUEyQyxJQUFJO0FBQzdEO0FBQUEsSUFDRCxPQUFPO0FBQ04sYUFBTyxLQUFLLG1CQUFtQjtBQUFBLElBQ2hDO0FBQUEsRUFDRDtBQUFBLEVBRUEsTUFBTSxxQkFBcUI7QUFFMUIsVUFBTSxRQUFRLFNBQVMsY0FBYyxLQUFLO0FBQzFDLFVBQU0sVUFBVSxJQUFJLHNCQUFzQjtBQUUxQyxVQUFNLGVBQWUsS0FBSyxnQkFBZ0I7QUFFMUMsUUFBSSxhQUFhLFdBQVcsR0FBRztBQUM5QixVQUFJLHVCQUFPLHlCQUF5QjtBQUNwQztBQUFBLElBQ0Q7QUFHQSxVQUFNLE9BQU8sS0FBSyxJQUFJLFVBQVUsUUFBUSxJQUFJO0FBRzVDLFVBQU0sS0FBSyxhQUFhO0FBQUEsTUFDdkIsTUFBTTtBQUFBLE1BQ04sUUFBUTtBQUFBLElBQ1QsQ0FBQztBQUdELFVBQU0saUJBQWlCLEtBQUssS0FBSztBQUVqQyxtQkFBZSxNQUFNO0FBR3JCLGVBQVcsUUFBUSxjQUFjO0FBQ2hDLFlBQU0sY0FBYyxNQUFNLEtBQUssSUFBSSxNQUFNLEtBQUssSUFBSTtBQUNsRCxXQUFLLGtCQUFrQixPQUFPLE1BQU0sV0FBVztBQUFBLElBQ2hEO0FBR0EsbUJBQWUsWUFBWSxLQUFLO0FBQUEsRUFDakM7QUFBQTtBQUFBO0FBQUEsRUFNQSxrQkFBa0IsT0FBb0IsTUFBYSxTQUFpQjtBQUNuRSxVQUFNLGNBQWMsS0FBSztBQUV6QixVQUFNLGVBQWUsU0FBUyxjQUFjLEtBQUs7QUFDakQsaUJBQWEsVUFBVSxJQUFJLGVBQWU7QUFDMUMsVUFBTSxZQUFZLFlBQVk7QUFHOUIsVUFBTSxxQkFBcUIsU0FBUyxjQUFjLEtBQUs7QUFDdkQsdUJBQW1CLFVBQVUsSUFBSSxzQkFBc0I7QUFDdkQsaUJBQWEsWUFBWSxrQkFBa0I7QUFHM0MsVUFBTSxlQUFlLFNBQVMsY0FBYyxRQUFRO0FBQ3BELGlCQUFhLFVBQVUsSUFBSSxvQkFBb0I7QUFDL0MsaUJBQWEsVUFBVSxJQUFJLGlCQUFpQjtBQUM1Qyx1QkFBbUIsWUFBWSxZQUFZO0FBRzNDLFVBQU0sb0JBQW9CLFNBQVMsY0FBYyxJQUFJO0FBQ3JELHNCQUFrQixVQUFVLElBQUkscUJBQXFCO0FBQ3JELFVBQU0sbUJBQW1CLFNBQVMsY0FBYyxHQUFHO0FBQ25ELHFCQUFpQixVQUFVLElBQUksb0JBQW9CO0FBQ25ELHFCQUFpQixjQUFjLFdBQVcsV0FBVztBQUNyRCxxQkFBaUIsTUFBTSxTQUFTO0FBQ2hDLHNCQUFrQixZQUFZLGdCQUFnQjtBQUM5Qyx1QkFBbUIsWUFBWSxpQkFBaUI7QUFHaEQscUJBQWlCLGlCQUFpQixTQUFTLE1BQU07QUFDaEQsV0FBSyxJQUFJLFVBQVUsYUFBYSxLQUFLLFVBQVUsS0FBSyxJQUFJO0FBQUEsSUFDekQsQ0FBQztBQUdELFVBQU0scUJBQXFCLFNBQVMsY0FBYyxLQUFLO0FBQ3ZELHVCQUFtQixVQUFVLElBQUkscUJBQXFCO0FBQ3RELHVCQUFtQixVQUFVLElBQUksa0JBQWtCO0FBQ25ELGlCQUFhLFlBQVksa0JBQWtCO0FBRTNDLFVBQU0sa0JBQWtCLFNBQVMsY0FBYyxLQUFLO0FBQ3BELG9CQUFnQixVQUFVLElBQUksa0JBQWtCO0FBQ2hELG9CQUFnQixVQUFVLElBQUksYUFBYTtBQUczQyxVQUFNLGtCQUFrQixTQUFTLGNBQWMsVUFBVTtBQUN6RCxvQkFBZ0IsVUFBVSxJQUFJLGtCQUFrQjtBQUNoRCxvQkFBZ0IsUUFBUTtBQUV4Qix1QkFBbUIsWUFBWSxlQUFlO0FBQzlDLHVCQUFtQixZQUFZLGVBQWU7QUFHOUMsMEJBQXNCLE1BQU07QUFDM0Isc0JBQWdCLE1BQU0sU0FBUyxnQkFBZ0IsZUFBZTtBQUFBLElBQy9ELENBQUM7QUFHRCxVQUFNLGdCQUFnQixNQUFNO0FBQzNCLHNCQUFnQixZQUFZO0FBRTVCLHVDQUFpQixPQUFPLEtBQUssS0FBSyxTQUFTLGlCQUFpQixLQUFLLE1BQU0sSUFBSTtBQUFBLElBQzVFO0FBR0Esa0JBQWM7QUFHZCxhQUFTLGdCQUFnQjtBQUN4QixzQkFBZ0IsVUFBVSxPQUFPLGFBQWE7QUFDOUMsc0JBQWdCLFVBQVUsT0FBTyxhQUFhO0FBQzlDLHNCQUFnQixNQUFNLFNBQVM7QUFDL0Isc0JBQWdCLE1BQU0sU0FBUyxnQkFBZ0IsZUFBZTtBQUM5RCxzQkFBZ0IsTUFBTTtBQUFBLElBQ3ZCO0FBR0Esb0JBQWdCLGlCQUFpQixTQUFTLENBQUMsVUFBVTtBQUNwRCxZQUFNLFNBQVMsTUFBTTtBQUVyQixVQUFJLGdCQUFnQixVQUFVLEtBQUssTUFBTSxJQUFJO0FBQzVDLHNCQUFjO0FBQUEsTUFDZixXQUFXLE9BQU8sWUFBWSxPQUFPLE9BQU8sUUFBUSxHQUFHLEtBQUssT0FBTyxVQUFVLFNBQVMsWUFBWSxLQUFLLE9BQU8sUUFBUSxhQUFhLEdBQUc7QUFDckk7QUFBQSxNQUNELE9BQU87QUFFTixzQkFBYztBQUFBLE1BQ2Y7QUFBQSxJQUNELENBQUM7QUFFRCxvQkFBZ0IsaUJBQWlCLFFBQVEsWUFBWTtBQUNwRCxnQkFBVSxnQkFBZ0I7QUFDMUIsb0JBQWM7QUFDZCxzQkFBZ0IsVUFBVSxPQUFPLGFBQWE7QUFDOUMsc0JBQWdCLFVBQVUsT0FBTyxhQUFhO0FBQUEsSUFDL0MsQ0FBQztBQUdELG9CQUFnQixpQkFBaUIsU0FBUyxPQUFLO0FBQzlDLHNCQUFnQixNQUFNLFNBQVM7QUFDL0Isc0JBQWdCLE1BQU0sU0FBUyxnQkFBZ0IsZUFBZTtBQUFBLElBQy9ELENBQUM7QUFHRCxXQUFPLGlCQUFpQixVQUFVLE9BQUs7QUFDdEMsc0JBQWdCLE1BQU0sU0FBUztBQUMvQixzQkFBZ0IsTUFBTSxTQUFTLGdCQUFnQixlQUFlO0FBQUEsSUFDL0QsQ0FBQztBQUdELGlCQUFhLGlCQUFpQixTQUFTLE1BQU07QUFDNUMsbUJBQWEsVUFBVSxPQUFPLGlCQUFpQjtBQUMvQyx5QkFBbUIsVUFBVSxPQUFPLGtCQUFrQjtBQUFBLElBQ3ZELENBQUM7QUFHRCxvQkFBZ0IsaUJBQWlCLFNBQVMsWUFBWTtBQUNyRCxZQUFNLEtBQUssSUFBSSxNQUFNLE9BQU8sTUFBTSxnQkFBZ0IsS0FBSztBQUFBLElBQ3hELENBQUM7QUFHRCxhQUFTLFdBQVdBLGNBQTZCO0FBQ2hELFlBQU0sVUFBVSxJQUFJLEtBQUtBLFlBQXFCO0FBQzlDLFlBQU0sb0JBQWdELEVBQUUsT0FBTyxTQUFTLE1BQU0sV0FBVyxLQUFLLFVBQVU7QUFHeEcsWUFBTSxnQkFBZ0IsSUFBSSxLQUFLLGVBQWUsU0FBUyxpQkFBaUIsRUFBRSxPQUFPLE9BQU87QUFHeEYsWUFBTSxNQUFNLFFBQVEsUUFBUTtBQUM1QixZQUFNLFlBQVksYUFBYSxHQUFHO0FBR2xDLFlBQU0sUUFBUSxjQUFjLE1BQU0sR0FBRztBQUNyQyxhQUFPLEdBQUcsTUFBTSxDQUFDLEtBQUssTUFBTSxjQUFjLE1BQU0sQ0FBQztBQUFBLElBQ2xEO0FBR0EsYUFBUyxhQUFhLEtBQXFCO0FBQzFDLFVBQUksTUFBTSxLQUFLLE1BQU07QUFBSSxlQUFPO0FBQ2hDLGNBQVEsTUFBTSxJQUFJO0FBQUEsUUFDakIsS0FBSztBQUFHLGlCQUFPO0FBQUEsUUFDZixLQUFLO0FBQUcsaUJBQU87QUFBQSxRQUNmLEtBQUs7QUFBRyxpQkFBTztBQUFBLFFBQ2Y7QUFBUyxpQkFBTztBQUFBLE1BQ2pCO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFBQTtBQUFBLEVBSUEsV0FBVztBQUFBLEVBQ1g7QUFBQSxFQUdBLE1BQU0sZUFBZTtBQUNwQixTQUFLLFdBQVcsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsTUFBTSxLQUFLLFNBQVMsQ0FBQztBQUFBLEVBQzFFO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbEM7QUFDRDtBQUVBLElBQU0sY0FBTixjQUEwQixzQkFBTTtBQUFBLEVBQy9CLFlBQVksS0FBVTtBQUNyQixVQUFNLEdBQUc7QUFBQSxFQUNWO0FBQUEsRUFFQSxTQUFTO0FBQ1IsVUFBTSxFQUFDLFVBQVMsSUFBSTtBQUNwQixjQUFVLFFBQVEsT0FBTztBQUFBLEVBQzFCO0FBQUEsRUFFQSxVQUFVO0FBQ1QsVUFBTSxFQUFDLFVBQVMsSUFBSTtBQUNwQixjQUFVLE1BQU07QUFBQSxFQUNqQjtBQUNEOyIsCiAgIm5hbWVzIjogWyJqb3VybmFsRGF0ZSJdCn0K
