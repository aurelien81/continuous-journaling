/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => journalingPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  journalingPluginSetting: "default"
};
var journalingPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    console.log("Journaling plugin loaded!");
    const ribbonIconEl = this.addRibbonIcon("notebook-text", "Journals", async (evt) => {
      await this.showJournalsInLeaf();
    });
    ribbonIconEl.addClass("my-plugin-ribbon-class");
    const statusBarItemEl = this.addStatusBarItem();
    statusBarItemEl.setText("Status Bar Text");
    this.addCommand({
      id: "open-journal-page",
      name: "Open Journal Page",
      callback: () => {
        this.showJournalsInLeaf();
      }
    });
    this.addCommand({
      id: "sample-editor-command",
      name: "Sample editor command",
      editorCallback: (editor, view) => {
        console.log(editor.getSelection());
        editor.replaceSelection("Sample Editor Command");
      }
    });
    this.addCommand({
      id: "open-sample-modal-complex",
      name: "Open sample modal (complex)",
      checkCallback: (checking) => {
        const markdownView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
        if (markdownView) {
          if (!checking) {
            new SampleModal(this.app).open();
          }
          return true;
        }
      }
    });
  }
  // Function to display journal page
  async openJournalPage() {
    const journalFiles = this.getJournalFiles();
    console.log("Concatenated Journal Content:", journalFiles);
  }
  // Find all journal/daily note files
  getJournalFiles() {
    const files = this.app.vault.getMarkdownFiles();
    console.log("List of files:", files);
    const journalFiles = files.filter((file) => this.isJournalFile(file));
    console.log("List of journal files:", journalFiles);
    new import_obsidian.Notice(`All journal files added to the console.`);
    return journalFiles;
  }
  // Check if a file is a journal file (based on file name or folder)
  isJournalFile(file) {
    const dailyNotePattern = /^\d{4}-\d{2}-\d{2}$/;
    return dailyNotePattern.test(file.basename);
  }
  async showJournalsInLeaf() {
    const journalFiles = this.getJournalFiles();
    if (journalFiles.length === 0) {
      new import_obsidian.Notice("No journal files found.");
      return;
    }
    const leaf = this.app.workspace.getLeaf(true);
    await leaf.setViewState({
      type: "markdown",
      // Set to markdown view type
      active: true
    });
    const contentEl = leaf.view.containerEl;
    contentEl.empty();
    const panel = document.createElement("div");
    panel.classList.add("custom-journal-panel");
    panel.style.overflowY = "scroll";
    panel.style.height = "100vh";
    panel.style.padding = "10px";
    panel.style.border = "1px solid var(--background-modifier-border)";
    panel.style.background = "var(--background-primary)";
    for (const file of journalFiles) {
      const fileContent = await this.app.vault.read(file);
      this.addJournalToPanel(panel, file, fileContent);
    }
    contentEl.appendChild(panel);
  }
  // Helper function to add each journal entry to the panel
  addJournalToPanel(panel, file, content) {
    const journalContainer = document.createElement("div");
    journalContainer.classList.add("journal-entry");
    journalContainer.style.marginBottom = "20px";
    const header = document.createElement("h3");
    header.textContent = file.basename;
    panel.appendChild(header);
    const toggleButton = document.createElement("button");
    toggleButton.textContent = "Toggle Journal View";
    toggleButton.classList.add("collapsible-toggle");
    header.appendChild(toggleButton);
    const collapsibleContent = document.createElement("div");
    collapsibleContent.classList.add("collapsible-content");
    collapsibleContent.style.maxHeight = "0";
    collapsibleContent.style.overflow = "hidden";
    collapsibleContent.style.transition = "max-height 0.3s ease-out";
    panel.appendChild(collapsibleContent);
    const editableContent = document.createElement("textarea");
    editableContent.value = content;
    editableContent.style.width = "100%";
    editableContent.style.height = "300px";
    editableContent.style.fontSize = "16px";
    collapsibleContent.appendChild(editableContent);
    toggleButton.addEventListener("click", () => {
      if (collapsibleContent.style.maxHeight === "0px" || !collapsibleContent.style.maxHeight) {
        collapsibleContent.style.maxHeight = collapsibleContent.scrollHeight + "px";
      } else {
        collapsibleContent.style.maxHeight = "0";
      }
    });
    editableContent.addEventListener("input", async () => {
      await this.app.vault.modify(file, editableContent.value);
      journalContainer.appendChild(editableContent);
      panel.appendChild(journalContainer);
    });
  }
  onunload() {
    console.log("Journal Page Plugin unloaded.");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var SampleModal = class extends import_obsidian.Modal {
  constructor(app) {
    super(app);
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.setText("Woah!");
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBURmlsZSwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJztcblxuaW50ZXJmYWNlIGpvdXJuYWxpbmdQbHVnaW5TZXR0aW5ncyB7XG5cdGpvdXJuYWxpbmdQbHVnaW5TZXR0aW5nOiBzdHJpbmc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IGpvdXJuYWxpbmdQbHVnaW5TZXR0aW5ncyA9IHtcblx0am91cm5hbGluZ1BsdWdpblNldHRpbmc6ICdkZWZhdWx0J1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBqb3VybmFsaW5nUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IGpvdXJuYWxpbmdQbHVnaW5TZXR0aW5ncztcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblx0XHRjb25zb2xlLmxvZygnSm91cm5hbGluZyBwbHVnaW4gbG9hZGVkIScpO1xuXG5cdFx0Ly8gVGhpcyBjcmVhdGVzIGFuIGljb24gaW4gdGhlIGxlZnQgcmliYm9uLlxuXHRcdGNvbnN0IHJpYmJvbkljb25FbCA9IHRoaXMuYWRkUmliYm9uSWNvbignbm90ZWJvb2stdGV4dCcsICdKb3VybmFscycsIGFzeW5jIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdGF3YWl0IHRoaXMuc2hvd0pvdXJuYWxzSW5MZWFmKCk7XG5cdFx0fSk7XG5cdFx0Ly8gUGVyZm9ybSBhZGRpdGlvbmFsIHRoaW5ncyB3aXRoIHRoZSByaWJib25cblx0XHRyaWJib25JY29uRWwuYWRkQ2xhc3MoJ215LXBsdWdpbi1yaWJib24tY2xhc3MnKTtcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHN0YXR1cyBiYXIgaXRlbSB0byB0aGUgYm90dG9tIG9mIHRoZSBhcHAuIERvZXMgbm90IHdvcmsgb24gbW9iaWxlIGFwcHMuXG5cdFx0Y29uc3Qgc3RhdHVzQmFySXRlbUVsID0gdGhpcy5hZGRTdGF0dXNCYXJJdGVtKCk7XG5cdFx0c3RhdHVzQmFySXRlbUVsLnNldFRleHQoJ1N0YXR1cyBCYXIgVGV4dCcpO1xuXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2ltcGxlIGNvbW1hbmQgdGhhdCBjYW4gYmUgdHJpZ2dlcmVkIGFueXdoZXJlXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnb3Blbi1qb3VybmFsLXBhZ2UnLFxuXHRcdFx0bmFtZTogJ09wZW4gSm91cm5hbCBQYWdlJyxcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuc2hvd0pvdXJuYWxzSW5MZWFmKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXHRcdC8vIFRoaXMgYWRkcyBhbiBlZGl0b3IgY29tbWFuZCB0aGF0IGNhbiBwZXJmb3JtIHNvbWUgb3BlcmF0aW9uIG9uIHRoZSBjdXJyZW50IGVkaXRvciBpbnN0YW5jZVxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ3NhbXBsZS1lZGl0b3ItY29tbWFuZCcsXG5cdFx0XHRuYW1lOiAnU2FtcGxlIGVkaXRvciBjb21tYW5kJyxcblx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IsIHZpZXc6IE1hcmtkb3duVmlldykgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhlZGl0b3IuZ2V0U2VsZWN0aW9uKCkpO1xuXHRcdFx0XHRlZGl0b3IucmVwbGFjZVNlbGVjdGlvbignU2FtcGxlIEVkaXRvciBDb21tYW5kJyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Ly8gVGhpcyBhZGRzIGEgY29tcGxleCBjb21tYW5kIHRoYXQgY2FuIGNoZWNrIHdoZXRoZXIgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcCBhbGxvd3MgZXhlY3V0aW9uIG9mIHRoZSBjb21tYW5kXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnb3Blbi1zYW1wbGUtbW9kYWwtY29tcGxleCcsXG5cdFx0XHRuYW1lOiAnT3BlbiBzYW1wbGUgbW9kYWwgKGNvbXBsZXgpJyxcblx0XHRcdGNoZWNrQ2FsbGJhY2s6IChjaGVja2luZzogYm9vbGVhbikgPT4ge1xuXHRcdFx0XHQvLyBDb25kaXRpb25zIHRvIGNoZWNrXG5cdFx0XHRcdGNvbnN0IG1hcmtkb3duVmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG5cdFx0XHRcdGlmIChtYXJrZG93blZpZXcpIHtcblx0XHRcdFx0XHQvLyBJZiBjaGVja2luZyBpcyB0cnVlLCB3ZSdyZSBzaW1wbHkgXCJjaGVja2luZ1wiIGlmIHRoZSBjb21tYW5kIGNhbiBiZSBydW4uXG5cdFx0XHRcdFx0Ly8gSWYgY2hlY2tpbmcgaXMgZmFsc2UsIHRoZW4gd2Ugd2FudCB0byBhY3R1YWxseSBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG5cdFx0XHRcdFx0aWYgKCFjaGVja2luZykge1xuXHRcdFx0XHRcdFx0bmV3IFNhbXBsZU1vZGFsKHRoaXMuYXBwKS5vcGVuKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gVGhpcyBjb21tYW5kIHdpbGwgb25seSBzaG93IHVwIGluIENvbW1hbmQgUGFsZXR0ZSB3aGVuIHRoZSBjaGVjayBmdW5jdGlvbiByZXR1cm5zIHRydWVcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cblx0XHQvLyB0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNhbXBsZVNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuXHRcdC8vIElmIHRoZSBwbHVnaW4gaG9va3MgdXAgYW55IGdsb2JhbCBET00gZXZlbnRzIChvbiBwYXJ0cyBvZiB0aGUgYXBwIHRoYXQgZG9lc24ndCBiZWxvbmcgdG8gdGhpcyBwbHVnaW4pXG5cdFx0Ly8gVXNpbmcgdGhpcyBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciB3aGVuIHRoaXMgcGx1Z2luIGlzIGRpc2FibGVkLlxuXHRcdC8vIHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJywgKGV2dDogTW91c2VFdmVudCkgPT4ge1xuXHRcdC8vIFx0Y29uc29sZS5sb2coJ2NsaWNrJywgZXZ0KTtcblx0XHQvLyB9KTtcblxuXHRcdC8vIFdoZW4gcmVnaXN0ZXJpbmcgaW50ZXJ2YWxzLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBjbGVhciB0aGUgaW50ZXJ2YWwgd2hlbiB0aGUgcGx1Z2luIGlzIGRpc2FibGVkLlxuXHRcdC8vIHRoaXMucmVnaXN0ZXJJbnRlcnZhbCh3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gY29uc29sZS5sb2coJ3NldEludGVydmFsJyksIDUgKiA2MCAqIDEwMDApKTtcblx0fVxuXG5cdC8vIEZ1bmN0aW9uIHRvIGRpc3BsYXkgam91cm5hbCBwYWdlXG5cdGFzeW5jIG9wZW5Kb3VybmFsUGFnZSgpIHtcblx0XHRjb25zdCBqb3VybmFsRmlsZXMgPSB0aGlzLmdldEpvdXJuYWxGaWxlcygpOyAvLyBTdGVwIHRvIGdldCBkYWlseSBub3Rlc1xuXG5cdFx0Y29uc29sZS5sb2coJ0NvbmNhdGVuYXRlZCBKb3VybmFsIENvbnRlbnQ6Jywgam91cm5hbEZpbGVzKTtcblx0fVxuXG5cdC8vIEZpbmQgYWxsIGpvdXJuYWwvZGFpbHkgbm90ZSBmaWxlc1xuXHRnZXRKb3VybmFsRmlsZXMoKTogVEZpbGVbXSB7XG5cdFx0Ly8gR2V0IGFsbCBtYXJrZG93biBmaWxlcyBpbiB0aGUgdmF1bHRcblx0XHRjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcblx0XHRjb25zb2xlLmxvZyhcIkxpc3Qgb2YgZmlsZXM6XCIsIGZpbGVzKTtcblxuXHRcdC8vIEZpbHRlciBmaWxlcyB0aGF0IGZvbGxvdyBhIGRhaWx5IG5vdGUgcGF0dGVyblxuXHRcdGNvbnN0IGpvdXJuYWxGaWxlcyA9IGZpbGVzLmZpbHRlcigoZmlsZSkgPT4gdGhpcy5pc0pvdXJuYWxGaWxlKGZpbGUpKTtcblxuXHRcdGNvbnNvbGUubG9nKFwiTGlzdCBvZiBqb3VybmFsIGZpbGVzOlwiLCBqb3VybmFsRmlsZXMpO1xuXHRcdG5ldyBOb3RpY2UoYEFsbCBqb3VybmFsIGZpbGVzIGFkZGVkIHRvIHRoZSBjb25zb2xlLmApO1xuXHRcdHJldHVybiBqb3VybmFsRmlsZXM7XG5cdH1cblxuXHQvLyBDaGVjayBpZiBhIGZpbGUgaXMgYSBqb3VybmFsIGZpbGUgKGJhc2VkIG9uIGZpbGUgbmFtZSBvciBmb2xkZXIpXG5cdGlzSm91cm5hbEZpbGUoZmlsZTogVEZpbGUpOiBib29sZWFuIHtcblx0XHQvLyBBZGp1c3QgdGhlIHBhdHRlcm4gb3IgZm9sZGVyIGNoZWNrIGRlcGVuZGluZyBvbiB5b3VyIGRhaWx5IG5vdGUgc2V0dXBcblx0XHRjb25zdCBkYWlseU5vdGVQYXR0ZXJuID0gL15cXGR7NH0tXFxkezJ9LVxcZHsyfSQvOyAvLyBNYXRjaGVzIFlZWVktTU0tRERcblx0XHRyZXR1cm4gZGFpbHlOb3RlUGF0dGVybi50ZXN0KGZpbGUuYmFzZW5hbWUpO1xuXHR9XG5cblx0YXN5bmMgc2hvd0pvdXJuYWxzSW5MZWFmKCkge1xuXHRcdGNvbnN0IGpvdXJuYWxGaWxlcyA9IHRoaXMuZ2V0Sm91cm5hbEZpbGVzKCk7XG5cdFxuXHRcdGlmIChqb3VybmFsRmlsZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRuZXcgTm90aWNlKCdObyBqb3VybmFsIGZpbGVzIGZvdW5kLicpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XG5cdFx0Ly8gQ3JlYXRlIGEgbmV3IGxlYWYgKG9wZW5zIGEgbmV3IHRhYilcblx0XHRjb25zdCBsZWFmID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYodHJ1ZSk7XG5cdFxuXHRcdC8vIFNldCB0aGUgdmlldyBzdGF0ZSB0byBNYXJrZG93biB0byBhY2Nlc3MgY29udGFpbmVyRWxcblx0XHRhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7XG5cdFx0XHR0eXBlOiBcIm1hcmtkb3duXCIsIC8vIFNldCB0byBtYXJrZG93biB2aWV3IHR5cGVcblx0XHRcdGFjdGl2ZTogdHJ1ZVxuXHRcdH0pO1xuXG5cdFx0Ly8gQWNjZXNzIHRoZSBjb250YWluZXIgZWxlbWVudCBvZiB0aGUgbWFya2Rvd24gdmlld1xuXHRcdGNvbnN0IGNvbnRlbnRFbCA9IGxlYWYudmlldy5jb250YWluZXJFbDsgLy8gVXNlIGNvbnRhaW5lckVsIHRvIGFjY2VzcyB0aGUgZWxlbWVudFxuXHRcblx0XHRjb250ZW50RWwuZW1wdHkoKTsgLy8gQ2xlYXIgdGhlIGNvbnRlbnQgYXJlYSBpZiBuZWNlc3Nhcnlcblx0XG5cdFx0Ly8gQ3JlYXRlIGEgc2Nyb2xsYWJsZSBwYW5lbCBmb3Igam91cm5hbCBlbnRyaWVzXG5cdFx0Y29uc3QgcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRwYW5lbC5jbGFzc0xpc3QuYWRkKCdjdXN0b20tam91cm5hbC1wYW5lbCcpO1xuXHRcdHBhbmVsLnN0eWxlLm92ZXJmbG93WSA9ICdzY3JvbGwnOyAgLy8gRW5hYmxlIHZlcnRpY2FsIHNjcm9sbGluZ1xuXHRcdHBhbmVsLnN0eWxlLmhlaWdodCA9ICcxMDB2aCc7ICAgICAgIC8vIEFkanVzdCBoZWlnaHQgYXMgbmVlZGVkXG5cdFx0cGFuZWwuc3R5bGUucGFkZGluZyA9ICcxMHB4Jztcblx0XHRwYW5lbC5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKSc7XG5cdFx0cGFuZWwuc3R5bGUuYmFja2dyb3VuZCA9ICd2YXIoLS1iYWNrZ3JvdW5kLXByaW1hcnkpJzsgLy8gT2JzaWRpYW4gdGhlbWUgY29sb3Jcblx0XG5cdFx0Ly8gQWRkIGNvbnRlbnQgZm9yIGVhY2ggam91cm5hbCBmaWxlXG5cdFx0Zm9yIChjb25zdCBmaWxlIG9mIGpvdXJuYWxGaWxlcykge1xuXHRcdFx0Y29uc3QgZmlsZUNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuXHRcdFx0dGhpcy5hZGRKb3VybmFsVG9QYW5lbChwYW5lbCwgZmlsZSwgZmlsZUNvbnRlbnQpO1xuXHRcdH1cblx0XG5cdFx0Ly8gQXBwZW5kIHRoZSBjdXN0b20gcGFuZWwgdG8gdGhlIGxlYWYncyBjb250YWluZXIgZWxlbWVudFxuXHRcdGNvbnRlbnRFbC5hcHBlbmRDaGlsZChwYW5lbCk7XG5cdH1cblx0XG5cdC8vIEhlbHBlciBmdW5jdGlvbiB0byBhZGQgZWFjaCBqb3VybmFsIGVudHJ5IHRvIHRoZSBwYW5lbFxuXHRhZGRKb3VybmFsVG9QYW5lbChwYW5lbDogSFRNTEVsZW1lbnQsIGZpbGU6IFRGaWxlLCBjb250ZW50OiBzdHJpbmcpIHtcblx0XHRjb25zdCBqb3VybmFsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0am91cm5hbENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdqb3VybmFsLWVudHJ5Jyk7XG5cdFx0Ly8gam91cm5hbENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdleHBhbmRlZCcpO1xuXHRcdGpvdXJuYWxDb250YWluZXIuc3R5bGUubWFyZ2luQm90dG9tID0gJzIwcHgnO1xuXG5cdFx0Ly8gQWRkIGEgaGVhZGVyIGZvciB0aGUgam91cm5hbCBlbnRyeVxuXHRcdGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG5cdFx0aGVhZGVyLnRleHRDb250ZW50ID0gZmlsZS5iYXNlbmFtZTtcblx0XHRwYW5lbC5hcHBlbmRDaGlsZChoZWFkZXIpO1xuXG5cdFx0Ly8gQ3JlYXRlIHRoZSB0b2dnbGUgYnV0dG9uXG5cdFx0Y29uc3QgdG9nZ2xlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cdFx0dG9nZ2xlQnV0dG9uLnRleHRDb250ZW50ID0gJ1RvZ2dsZSBKb3VybmFsIFZpZXcnO1xuXHRcdHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjb2xsYXBzaWJsZS10b2dnbGUnKTtcblx0XHRoZWFkZXIuYXBwZW5kQ2hpbGQodG9nZ2xlQnV0dG9uKTtcblxuXHRcdC8vIENyZWF0ZSB0aGUgY29sbGFwc2libGUgY29udGVudCBhcmVhXG5cdFx0Y29uc3QgY29sbGFwc2libGVDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0Y29sbGFwc2libGVDb250ZW50LmNsYXNzTGlzdC5hZGQoJ2NvbGxhcHNpYmxlLWNvbnRlbnQnKTtcblx0XHRjb2xsYXBzaWJsZUNvbnRlbnQuc3R5bGUubWF4SGVpZ2h0ID0gJzAnOyAgLy8gSW5pdGlhbGx5IGNvbGxhcHNlZFxuXHRcdGNvbGxhcHNpYmxlQ29udGVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXHRcdGNvbGxhcHNpYmxlQ29udGVudC5zdHlsZS50cmFuc2l0aW9uID0gJ21heC1oZWlnaHQgMC4zcyBlYXNlLW91dCc7XG5cblx0XHRwYW5lbC5hcHBlbmRDaGlsZChjb2xsYXBzaWJsZUNvbnRlbnQpO1xuXG5cdFx0Ly8gQ3JlYXRlIGFuIGVkaXRhYmxlIHRleHRhcmVhIGZvciB0aGUgZmlsZSBjb250ZW50XG5cdFx0Y29uc3QgZWRpdGFibGVDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcblx0XHRlZGl0YWJsZUNvbnRlbnQudmFsdWUgPSBjb250ZW50O1xuXHRcdGVkaXRhYmxlQ29udGVudC5zdHlsZS53aWR0aCA9ICcxMDAlJztcblx0XHRlZGl0YWJsZUNvbnRlbnQuc3R5bGUuaGVpZ2h0ID0gJzMwMHB4Jztcblx0XHRlZGl0YWJsZUNvbnRlbnQuc3R5bGUuZm9udFNpemUgPSAnMTZweCc7XG5cblx0XHRjb2xsYXBzaWJsZUNvbnRlbnQuYXBwZW5kQ2hpbGQoZWRpdGFibGVDb250ZW50KTtcblxuXHRcdC8vIEFkZCBldmVudCBsaXN0ZW5lciB0byB0b2dnbGUgdGhlIHBhbmVsIG9uIGJ1dHRvbiBjbGlja1xuXHRcdHRvZ2dsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdGlmIChjb2xsYXBzaWJsZUNvbnRlbnQuc3R5bGUubWF4SGVpZ2h0ID09PSAnMHB4JyB8fCAhY29sbGFwc2libGVDb250ZW50LnN0eWxlLm1heEhlaWdodCkge1xuXHRcdFx0XHRjb2xsYXBzaWJsZUNvbnRlbnQuc3R5bGUubWF4SGVpZ2h0ID0gY29sbGFwc2libGVDb250ZW50LnNjcm9sbEhlaWdodCArICdweCc7ICAvLyBFeHBhbmRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbGxhcHNpYmxlQ29udGVudC5zdHlsZS5tYXhIZWlnaHQgPSAnMCc7ICAvLyBDb2xsYXBzZVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdC8vIFx0Ly8gQ3JlYXRlIGEgY29udGFpbmVyIGZvciB0aGUgY29sbGFwc2libGUgc2VjdGlvblxuXHQvLyBcdGNvbnN0IGNvbGxhcHNpYmxlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdC8vIFx0Y29sbGFwc2libGVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY29sbGFwc2libGUtY29udGFpbmVyJyk7XG5cdC8vIFx0Y29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdC8vIFx0aGVhZGVyLmNsYXNzTGlzdC5hZGQoJ2pvdXJuYWwtZW50cnktaGVhZGVyJyk7XG5cdC8vIFx0cGFuZWwuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcblxuXHQvLyBcdC8vIENyZWF0ZSB0aGUgdG9nZ2xlIGJ1dHRvblxuXHQvLyBcdC8vIGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXHQvLyBcdC8vIHRvZ2dsZUJ1dHRvbi50ZXh0Q29udGVudCA9ICcnO1xuXHQvLyBcdC8vIHRvZ2dsZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjb2xsYXBzaWJsZS10b2dnbGUnKTtcblx0Ly8gXHQvLyBoZWFkZXIuYXBwZW5kQ2hpbGQodG9nZ2xlQnV0dG9uKTtcblxuXHQvLyBcdC8vIENyZWF0ZSB0aGUgdG9nZ2xlIGJ1dHRvblxuXHQvLyBcdGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXHQvLyBcdHRvZ2dsZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdUb2dnbGUgSm91cm5hbCBWaWV3Jztcblx0Ly8gXHR0b2dnbGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnY29sbGFwc2libGUtdG9nZ2xlJyk7XG5cdC8vIFx0aGVhZGVyLmFwcGVuZENoaWxkKHRvZ2dsZUJ1dHRvbik7XG5cblx0Ly8gXHRjb25zdCBqb3VybmFsRW50cnlUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG5cdC8vIFx0am91cm5hbEVudHJ5VGl0bGUuY2xhc3NMaXN0LmFkZCgnam91cm5hbC1lbnRyeS10aXRsZScpO1xuXHQvLyBcdGpvdXJuYWxFbnRyeVRpdGxlLnRleHRDb250ZW50ID0gZmlsZS5iYXNlbmFtZTtcblx0Ly8gXHRoZWFkZXIuYXBwZW5kQ2hpbGQoam91cm5hbEVudHJ5VGl0bGUpO1xuXG5cdC8vIFx0Ly8gY29uc3QgY29sbGFwc2libGVKb3VybmFsRW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0Ly8gXHQvLyBjb2xsYXBzaWJsZUpvdXJuYWxFbnRyeS5jbGFzc0xpc3QuYWRkKCdjb2xsYXBzaWJsZS1qb3VybmFsLWVudHJ5Jyk7XG5cdC8vIFx0Ly8gY29sbGFwc2libGVKb3VybmFsRW50cnkuc3R5bGUubWF4SGVpZ2h0ID0gJzMwMHB4Jztcblx0Ly8gXHQvLyBjb2xsYXBzaWJsZUpvdXJuYWxFbnRyeS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXHQvLyBcdC8vIGNvbGxhcHNpYmxlSm91cm5hbEVudHJ5LnN0eWxlLnRyYW5zaXRpb24gPSAnbWF4LWhlaWdodCAwLjNzIGVhc2Utb3V0Jztcblx0Ly8gXHQvLyBqb3VybmFsQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvbGxhcHNpYmxlSm91cm5hbEVudHJ5KTtcblxuXHQvLyBcdC8vIENyZWF0ZSBhIGRpdiBmb3IgdGhlIGNvbGxhcHNpYmxlIGNvbnRlbnQgKHRoZSBwYW5lbCB3aGVyZSBqb3VybmFsIGVudHJpZXMgYXJlIGFkZGVkKVxuXHQvLyBcdGNvbnN0IGNvbGxhcHNpYmxlQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQvLyBcdGNvbGxhcHNpYmxlQ29udGVudC5jbGFzc0xpc3QuYWRkKCdjb2xsYXBzaWJsZS1jb250ZW50Jyk7XG5cdC8vIFx0Y29sbGFwc2libGVDb250ZW50LnN0eWxlLm1heEhlaWdodCA9ICcwJzsgIC8vIEluaXRpYWxseSBjb2xsYXBzZWRcblx0Ly8gXHRjb2xsYXBzaWJsZUNvbnRlbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblx0Ly8gXHRjb2xsYXBzaWJsZUNvbnRlbnQuc3R5bGUudHJhbnNpdGlvbiA9ICdtYXgtaGVpZ2h0IDAuM3MgZWFzZS1vdXQnO1xuXHQvLyBcdGNvbGxhcHNpYmxlQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvbGxhcHNpYmxlQ29udGVudCk7XG5cblx0Ly8gXHRjb25zdCBlZGl0YWJsZUNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuXHQvLyBcdGVkaXRhYmxlQ29udGVudC52YWx1ZSA9IGNvbnRlbnQ7IC8vIFBvcHVsYXRlIHdpdGggZmlsZSBjb250ZW50XG5cdC8vIFx0ZWRpdGFibGVDb250ZW50LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHQvLyBcdGVkaXRhYmxlQ29udGVudC5zdHlsZS5oZWlnaHQgPSAnMzAwcHgnO1xuXG5cdC8vIFx0Ly8gVXBkYXRlIGZpbGUgY29udGVudCBvbiBlZGl0XG5cdC8vIFx0ZWRpdGFibGVDb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgYXN5bmMgKCkgPT4ge1xuXHQvLyBcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5KGZpbGUsIGVkaXRhYmxlQ29udGVudC52YWx1ZSk7IC8vIFNhdmUgZWRpdHMgdG8gdGhlIGZpbGVcblx0Ly8gXHR9KTtcblxuXHQvLyBcdC8vIEFkZCBldmVudCBsaXN0ZW5lciB0byB0aGUgdG9nZ2xlIGJ1dHRvbiB0byBleHBhbmQvY29sbGFwc2UgY29udGVudFxuXHQvLyBcdHRvZ2dsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0Ly8gXHRcdC8vIENoZWNrIGlmIGl0J3MgY3VycmVudGx5IGNvbGxhcHNlZFxuXHQvLyBcdFx0aWYgKGNvbGxhcHNpYmxlQ29udGVudC5zdHlsZS5tYXhIZWlnaHQgPT09ICcwcHgnIHx8ICFjb2xsYXBzaWJsZUNvbnRlbnQuc3R5bGUubWF4SGVpZ2h0KSB7XG5cdC8vIFx0XHRcdC8vIEV4cGFuZCB0aGUgY29udGVudFxuXHQvLyBcdFx0XHRjb2xsYXBzaWJsZUNvbnRlbnQuc3R5bGUubWF4SGVpZ2h0ID0gY29sbGFwc2libGVDb250ZW50LnNjcm9sbEhlaWdodCArICdweCc7XG5cdC8vIFx0XHR9IGVsc2Uge1xuXHQvLyBcdFx0XHQvLyBDb2xsYXBzZSB0aGUgY29udGVudFxuXHQvLyBcdFx0XHRjb2xsYXBzaWJsZUNvbnRlbnQuc3R5bGUubWF4SGVpZ2h0ID0gJzAnO1xuXHQvLyBcdFx0fVxuXHQvLyBcdH0pO1xuXG5cdC8vIFx0Y29uc3QgaG9yaXpvbnRhbFJ1bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdocicpO1xuXHQvLyBcdGhvcml6b250YWxSdWxlLmNsYXNzTGlzdC5hZGQoJ2pvdXJuYWwtaG9yaXpvbnRhbC1ocicpO1xuXG5cdC8vIFx0Ly8gQXBwZW5kIHRoZSBydWxlIHRvIHlvdXIgY29udGFpbmVyXG5cdC8vIFx0cGFuZWwuYXBwZW5kQ2hpbGQoaG9yaXpvbnRhbFJ1bGUpO1xuXHQvLyBcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29sbGFwc2libGVDb250YWluZXIpO1xuXG5cdC8vIFNhdmUgZWRpdHMgdG8gdGhlIG9yaWdpbmFsIGZpbGUgd2hlbiB0aGUgY29udGVudCBjaGFuZ2VzXG5cdGVkaXRhYmxlQ29udGVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGFzeW5jICgpID0+IHtcblx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgZWRpdGFibGVDb250ZW50LnZhbHVlKTtcblxuXHRcblx0am91cm5hbENvbnRhaW5lci5hcHBlbmRDaGlsZChlZGl0YWJsZUNvbnRlbnQpO1xuXHRwYW5lbC5hcHBlbmRDaGlsZChqb3VybmFsQ29udGFpbmVyKTsgIC8vIEFwcGVuZCBqb3VybmFsIGVudHJ5IHRvIHRoZSBjb2xsYXBzaWJsZSBwYW5lbFxuXHRcblx0fSk7XG5cblxuXG5cblx0XHQvLyBhc3luYyBzaG93Sm91cm5hbHNJbkN1c3RvbVBhbmVsKCkge1xuXHRcdC8vIFx0Y29uc3Qgam91cm5hbEZpbGVzID0gdGhpcy5nZXRKb3VybmFsRmlsZXMoKTtcblx0XHRcblx0XHQvLyBcdGlmIChqb3VybmFsRmlsZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0Ly8gXHRcdG5ldyBOb3RpY2UoJ05vIGpvdXJuYWwgZmlsZXMgZm91bmQuJyk7XG5cdFx0Ly8gXHRcdHJldHVybjtcblx0XHQvLyBcdH1cblx0XHRcblx0XHRcdC8vIENyZWF0ZSB0aGUgY29sbGFwc2libGUgY29udGFpbmVyXG5cdFx0XHQvLyBjb25zdCBjb2xsYXBzaWJsZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdFx0Ly8gY29sbGFwc2libGVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY29sbGFwc2libGUtY29udGFpbmVyJyk7XG5cdFx0XG5cdFx0XHQvLyBDcmVhdGUgdGhlIHRvZ2dsZSBidXR0b25cblx0XHRcdC8vIGNvbnN0IHRvZ2dsZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXHRcdFx0Ly8gdG9nZ2xlQnV0dG9uLnRleHRDb250ZW50ID0gJ1RvZ2dsZSBKb3VybmFsIFZpZXcnO1xuXHRcdFx0Ly8gdG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2NvbGxhcHNpYmxlLXRvZ2dsZScpO1xuXHRcdFx0Ly8gY29sbGFwc2libGVDb250YWluZXIuYXBwZW5kQ2hpbGQodG9nZ2xlQnV0dG9uKTtcblx0XHRcblx0XHRcdC8vIENyZWF0ZSB0aGUgY29sbGFwc2libGUgY29udGVudCBhcmVhXG5cdFx0XHQvLyBjb25zdCBjb2xsYXBzaWJsZUNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdC8vIGNvbGxhcHNpYmxlQ29udGVudC5jbGFzc0xpc3QuYWRkKCdjb2xsYXBzaWJsZS1jb250ZW50Jyk7XG5cdFx0XHQvLyBjb2xsYXBzaWJsZUNvbnRlbnQuc3R5bGUubWF4SGVpZ2h0ID0gJzAnOyAgLy8gSW5pdGlhbGx5IGNvbGxhcHNlZFxuXHRcdFx0Ly8gY29sbGFwc2libGVDb250ZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG5cdFx0XHQvLyBjb2xsYXBzaWJsZUNvbnRlbnQuc3R5bGUudHJhbnNpdGlvbiA9ICdtYXgtaGVpZ2h0IDAuM3MgZWFzZS1vdXQnO1xuXHRcdFxuXHRcdFx0Ly8gY29sbGFwc2libGVDb250YWluZXIuYXBwZW5kQ2hpbGQoY29sbGFwc2libGVDb250ZW50KTtcblx0XHRcblx0XHRcdC8vIEFkZCBldmVudCBsaXN0ZW5lciB0byB0b2dnbGUgdGhlIHBhbmVsIG9uIGJ1dHRvbiBjbGlja1xuXHRcdFx0Ly8gdG9nZ2xlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0Ly8gXHRpZiAoY29sbGFwc2libGVDb250ZW50LnN0eWxlLm1heEhlaWdodCA9PT0gJzBweCcgfHwgIWNvbGxhcHNpYmxlQ29udGVudC5zdHlsZS5tYXhIZWlnaHQpIHtcblx0XHRcdC8vIFx0XHRjb2xsYXBzaWJsZUNvbnRlbnQuc3R5bGUubWF4SGVpZ2h0ID0gY29sbGFwc2libGVDb250ZW50LnNjcm9sbEhlaWdodCArICdweCc7ICAvLyBFeHBhbmRcblx0XHRcdC8vIFx0fSBlbHNlIHtcblx0XHRcdC8vIFx0XHRjb2xsYXBzaWJsZUNvbnRlbnQuc3R5bGUubWF4SGVpZ2h0ID0gJzAnOyAgLy8gQ29sbGFwc2Vcblx0XHRcdC8vIFx0fVxuXHRcdFx0Ly8gfSk7XG5cdFx0XG5cdFx0XHQvLyBBZGQgZWFjaCBqb3VybmFsIGZpbGUncyBjb250ZW50IHRvIHRoZSBjb2xsYXBzaWJsZSBjb250ZW50IGFyZWFcblx0XHRcdC8vIGZvciAoY29uc3QgZmlsZSBvZiBqb3VybmFsRmlsZXMpIHtcblx0XHRcdC8vIFx0Y29uc3QgZmlsZUNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuXHRcdFx0Ly8gXHR0aGlzLmFkZEpvdXJuYWxUb1BhbmVsKGNvbGxhcHNpYmxlQ29udGVudCwgZmlsZSwgZmlsZUNvbnRlbnQpO1xuXHRcdFx0Ly8gfVxuXHRcdFxuXHRcdFx0Ly8gQXBwZW5kIHRoZSBlbnRpcmUgY29sbGFwc2libGUgcGFuZWwgdG8gdGhlIHdvcmtzcGFjZSAob3IgYSBzcGVjaWZpYyBsZWFmKVxuXHRcdFx0Ly8gdGhpcy5hcHAud29ya3NwYWNlLmNvbnRhaW5lckVsLmFwcGVuZENoaWxkKGNvbGxhcHNpYmxlQ29udGFpbmVyKTtcblx0XHQvLyB9XG5cdFx0XG5cdFx0Ly8gRnVuY3Rpb24gdG8gYWRkIGVhY2ggam91cm5hbCBmaWxlIGNvbnRlbnQgdG8gdGhlIGNvbGxhcHNpYmxlIHBhbmVsXG5cdFx0Ly8gYWRkSm91cm5hbFRvUGFuZWwocGFuZWw6IEhUTUxFbGVtZW50LCBmaWxlOiBURmlsZSwgY29udGVudDogc3RyaW5nKSB7XG5cdFx0Ly8gXHRjb25zdCBqb3VybmFsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0Ly8gXHRqb3VybmFsQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2pvdXJuYWwtZW50cnknKTtcblx0XHQvLyBcdGpvdXJuYWxDb250YWluZXIuc3R5bGUubWFyZ2luQm90dG9tID0gJzIwcHgnO1xuXHRcdFxuXHRcdFx0Ly8gQWRkIGEgaGVhZGVyIGZvciB0aGUgam91cm5hbCBlbnRyeVxuXHRcdFx0Ly8gY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcblx0XHRcdC8vIGhlYWRlci50ZXh0Q29udGVudCA9IGZpbGUuYmFzZW5hbWU7XG5cdFx0XHQvLyBqb3VybmFsQ29udGFpbmVyLmFwcGVuZENoaWxkKGhlYWRlcik7XG5cdFx0XG5cdFx0XHQvLyBDcmVhdGUgYW4gZWRpdGFibGUgdGV4dGFyZWEgZm9yIHRoZSBmaWxlIGNvbnRlbnRcblx0XHRcdC8vIGNvbnN0IGVkaXRhYmxlQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG5cdFx0XHQvLyBlZGl0YWJsZUNvbnRlbnQudmFsdWUgPSBjb250ZW50O1xuXHRcdFx0Ly8gZWRpdGFibGVDb250ZW50LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXHRcdFx0Ly8gZWRpdGFibGVDb250ZW50LnN0eWxlLmhlaWdodCA9ICczMDBweCc7XG5cdFx0XHQvLyBlZGl0YWJsZUNvbnRlbnQuc3R5bGUuZm9udFNpemUgPSAnMTZweCc7XG5cdFx0XG5cdFx0XHQvLyBTYXZlIGVkaXRzIHRvIHRoZSBvcmlnaW5hbCBmaWxlIHdoZW4gdGhlIGNvbnRlbnQgY2hhbmdlc1xuXHRcdFx0Ly8gZWRpdGFibGVDb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgYXN5bmMgKCkgPT4ge1xuXHRcdFx0Ly8gXHRhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgZWRpdGFibGVDb250ZW50LnZhbHVlKTtcblx0XHRcdC8vIH0pO1xuXHRcdFxuXHRcdFx0Ly8gam91cm5hbENvbnRhaW5lci5hcHBlbmRDaGlsZChlZGl0YWJsZUNvbnRlbnQpO1xuXHRcdFx0Ly8gcGFuZWwuYXBwZW5kQ2hpbGQoam91cm5hbENvbnRhaW5lcik7ICAvLyBBcHBlbmQgam91cm5hbCBlbnRyeSB0byB0aGUgY29sbGFwc2libGUgcGFuZWxcblx0XHRcblx0XHRcblxuXG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblx0XHRjb25zb2xlLmxvZygnSm91cm5hbCBQYWdlIFBsdWdpbiB1bmxvYWRlZC4nKTtcblx0fVxuXG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cblxuY2xhc3MgU2FtcGxlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0fVxuXG5cdG9uT3BlbigpIHtcblx0XHRjb25zdCB7Y29udGVudEVsfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLnNldFRleHQoJ1dvYWghJyk7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxufVxuXG5jbGFzcyBTYW1wbGVTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogam91cm5hbGluZ1BsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBqb3VybmFsaW5nUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdTZXR0aW5nICMxJylcblx0XHRcdC5zZXREZXNjKCdJdFxcJ3MgYSBzZWNyZXQnKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRW50ZXIgeW91ciBzZWNyZXQnKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muam91cm5hbGluZ1BsdWdpblNldHRpbmcpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5qb3VybmFsaW5nUGx1Z2luU2V0dGluZyA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFBbUc7QUFNbkcsSUFBTSxtQkFBNkM7QUFBQSxFQUNsRCx5QkFBeUI7QUFDMUI7QUFFQSxJQUFxQixtQkFBckIsY0FBOEMsdUJBQU87QUFBQSxFQUdwRCxNQUFNLFNBQVM7QUFDZCxVQUFNLEtBQUssYUFBYTtBQUN4QixZQUFRLElBQUksMkJBQTJCO0FBR3ZDLFVBQU0sZUFBZSxLQUFLLGNBQWMsaUJBQWlCLFlBQVksT0FBTyxRQUFvQjtBQUMvRixZQUFNLEtBQUssbUJBQW1CO0FBQUEsSUFDL0IsQ0FBQztBQUVELGlCQUFhLFNBQVMsd0JBQXdCO0FBRzlD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
